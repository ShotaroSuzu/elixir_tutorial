# Elixir チュートリアル
[このページ](https://elixir-lang.jp/getting-started/introduction.html)を参考にチュートリアルをやってみる

次は基本演算子から  
https://elixir-lang.jp/getting-started/basic-operators.html
## インストール
- 管理者権限のPowershellでChocolatey(version: 0.10.15)を使って `cinst elixir` を実行  
  - Erlangも一緒にインストールされるが、その時にすべてのパッケージをインストールするか聞かれるので `A(all)` を選択

結構待った(10分くらい)が、インストール完了。

Powershellを再起動して `elixir --version` を実行

```
PS C:\WINDOWS\system32> elixir --version
Erlang/OTP 24 [erts-12.0] [source] [64-bit] [smp:8:8] [ds:8:8:10] [async-threads:1] [jit]

Elixir 1.11.2 (compiled with Erlang/OTP 21)
```

Erlangのバージョン見づら。。。

インストール先は特に選べなかったが以下にファイルがあった
`C:\Program Files\erl-24.0`


##  インタラクティブモード
`iex.bat --werl` でインタラクティブモードを起動。  
※windows の場合は、`iex.bat --werl` でないと `40 + 2` を入力してエンターを入力すると、erlangから出てしまう。  

- 四則演算は普通
- 文字列の結合は `<>` らしい
- exs拡張子のファイルを `elixir ファイル名` で実行すると実行できる


## 基本型
### 四則演算
- 割と普通
- 関数の引数の括弧は省略可能
- round: 四捨五入
- trunc: 切り捨て

### 真偽値
- true/false
- 型を判定する関数があるらしい `is_boolean/1`

### アトム
定数でありシンボルである  
よくわからん。。。

enumのようなものか


### 文字列
- ダブルクオーテーションで囲むと文字列になる。  
- ダブルクオーテーション内での改行も可能
- バックスラッシュでエスケープ
- [Stringモジュール](https://hexdocs.pm/elixir/String.html)でいろいろな文字列操作ができそう

### 無名関数
- `変数 = fn 式 end` で表現する。 
- 呼び出し方は `無名関数.(引数)` (※ `.` が必須！！)
- なお、通常の関数の呼び出し方は `関数(引数)`
- 通常の関数と無名関数を明確に区別している
- 関数内部の変数は外部に同名の変数があっても影響を与えない

### (連結)リスト
- `[1, 2, true, 3]` のように表現
- ASCIIコードに該当する値のみで構成されていると `'` で囲まれた文字列が表示される
  - `[104, 101, 108, 108, 111]` は `'hello'` と表示される
  - ただし、実態は数値のList
  - `'hello' + [1]` とすると、`[104, 101, 108, 108, 111, 1]` となり、文字列のように表示されるのは**ASCIIコードに該当する値のみで構成されている**ときのみであることがわかる
- このように`'`で囲われている文字のことを`文字リスト`と呼ぶ(それに対して、`"`で囲われているものを文字列と呼ぶ)
- Elixirにおけるリストは不変。操作後も元のListは変わらないことが保障されている
- リストはイミュータブル
- リストは(いまのところ)インデックスを使って要素にアクセスできなさそう。。。

### tuple
- `{:ok, "hello", false}` のように表現
- インデックスは0から始まる
- 要素の数は不変っぽい 

例えば,以下のようなコードはコンパイルエラーになる。
```
tuple1 = {:ok, "world"}
tuple2 = put_elem(tuple1, 2, "hoge")
```
- タプルはイミュータブル
- `elem(tuple1, 1)` で要素にアクセスできる
